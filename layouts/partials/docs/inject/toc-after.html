<!-- Depends on website-helpers repository. -->

<div id="categories_and_backlinks_wrapper" style="margin-top:auto;">
    <div class="categoriesandbacklinks">My div</div>
    <script type="text/javascript">
        // Show all exported defs/defns we can use.
        // console.log(website_helpers.core);
        // Print something generated by cljs code.
        // console.log(website_helpers.core.to_js(
        //     website_helpers.core.list_to_hiccup(["a", "b"])));
        // const urlParams = new URLSearchParams(window.location.search);

        // For some odd reason, hugo puts multiple copies of this partial on
        // the page, meaning that we need to reach into every div and change
        // it.
        Array.from(document.querySelectorAll('.categoriesandbacklinks')
                   ).forEach((element, index) => {
            element.innerHTML = website_helpers.core.render_to_string(
            website_helpers.hyperlink_lists.categories_and_backlinks(
                {{ with .File }}{{ .Path }}{{ end }}));
        });
    </script>
</div>
